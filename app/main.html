<!DOCTYPE html>
<html lang="en-us" class="no-js">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Learn English</title>
    <meta name="description" content="This is a web app for learning English that I made for personal use. I would like to share it to everyone, hope it helps.">
    <link rel="canonical" href="https://learnenglish.leetrunghoo.com/">
    <!-- Disable tap highlight on IE -->
    <meta name="msapplication-tap-highlight" content="no">
    <!-- Web Application Manifest -->
    <link rel="manifest" href="manifest.json">
    <!-- App name -->
    <meta name="apple-mobile-web-app-title" content="Learn English">
    <meta name="application-name" content="Learn English">
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="img/icon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" href="img/icon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="img/icon/favicon-16x16.png" sizes="16x16">
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#0277bd">
    <link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-touch-icon.png">
    <link rel="mask-icon" href="img/icon/safari-pinned-tab.svg" color="#5b9ad5">
    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="img/icon/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#0277bd">
    <meta name="msapplication-config" content="img/icon/browserconfig.xml">
    <!-- Color the status bar on mobile devices -->
    <meta name="theme-color" content="#0277bd">
    <!-- Open graph -->
    <meta property="og:title" content="Learn English">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://learnenglish.leetrunghoo.com/img/icon/android-chrome-192x192.png">
    <meta property="og:description" content="This is a web app for learning English that I made for personal use. I would like to share it to everyone, hope it helps.">
    <link rel="shortcut icon" href="img/icon/favicon.ico">
    <!-- css -->
    <style type="text/css">
    /**inlinecss**/
    </style>
    <!-- modernizer -->
    <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
</head>

<body>
    <!-- Add your site or app content here -->
    <header class="navbar-fixed">
        <nav>
            <div class="nav-wrapper">
                <ul class="left">
                    <li>
                        <a data-activates="slideNav" class="button-collapse">
                            <i class="icon-menu"></i>
                        </a>
                    </li>
                </ul>
                <a class="brand-logo">Learn English</a>
                <ul class="right">
                    <li><a href="#modalAbout" class="modal-trigger"><span class="icon-info"></span></a></li>
                </ul>
            </div>
        </nav>
    </header>
    <ul id="slideNav" class="side-nav fixed">
        <!-- categories & sections -->
        <!--html_sidebar_category-->
    </ul>
    <main id="mainContent">
        <div class="row">
            <div class="col s12">
                <div class="logo-img valign button-collapse hide-on-large-only" data-activates="slideNav"></div>
                <div class="logo-img valign hide-on-med-and-down"></div>
                <h2 class="center-align">Let's learn English!</h2>
                <p>Instruction:</p>
                <p class="hide-on-med-and-down">Sidebar on the left is the lesson's category.</p>
                <p class="hide-on-large-only">Click the menu icon on the top left to view the lesson's category.</p>
                <p>When a lesson is opened, try clicking on any links to listen.</p>
            </div>
        </div>
        <!-- bind dumb html for uncss -->
        <div class="row" style="display: none">
            <div class="col s12">
                <h1></h1>
                <div id="sectionDesc"></div>
            </div>
        </div>
        <div class="masonry-container" style="display: none">
            <div class="masonry">
                <div class="grid-item">
                    <div class="lesson-item card-panel modal-trigger waves-effect waves-blue" data-target="modalLesson" data-lesson=""></div>
                </div>
            </div>
        </div>
    </main>
    <!-- Modal Structure -->
    <div id="modalLesson" class="modal modal-fixed-footer">
        <div class="modal-content">
            <!-- #MyForm is for validating Quiz in Listening category -->
            <form id="MyForm">
                <div id="lessonContent"></div>
            </form>
        </div>
        <div class="modal-footer">
            <a class=" modal-action modal-close waves-effect waves-blue btn-flat">Close</a>
        </div>
    </div>
    <div id="modalAbout" class="modal modal-fixed-footer">
        <div class="modal-content">
            <h5>Hello!</h5>
            <p>This is a web app for learning English that I made for personal use. I would like to share it to everyone, hope it helps.</p>
            <p>The content was got from <a href="http://www.talkenglish.com" target="_blank">www.talkenglish.com</a></p>
            <p>Author: Trung Ho (<a href="https://leetrunghoo.com" target="_blank">https://leetrunghoo.com</a>)</p>
            <p>By the way, this is an open source project, feel free to contact me <a title="email" href="mailto:leetrunghoo@gmail.com?Subject=Hello%20Trung" target="_blank">leetrunghoo@gmail.com</a></p>
            <hr/>
            <p>Setting:</p>
            <p>
                <div class="switch">
                    <label>
                        Use Web Speech
                        <input type="checkbox" name="chkUseVirtual" id="chkUseVirtual">
                        <span class="lever"></span>
                    </label>
                </div>
            </p>
            <p class="range-field">
                <label for="voiceRate">Speaking speed:</label>
                <div class="row">
                    <div class="col s4">
                        <input disabled name="groupSpeed" type="radio" id="rSlow" value="0.6" />
                        <label for="rSlow">Slow</label>
                    </div>
                    <div class="col s4">
                        <input disabled name="groupSpeed" type="radio" id="rNormal" value="0.8" checked />
                        <label for="rNormal">Normal</label>
                    </div>
                    <div class="col s4">
                        <input disabled name="groupSpeed" type="radio" id="rFast" value="1" />
                        <label for="rFast">Fast</label>
                    </div>
                </div>
            </p>
            <label for="voice">Select which voice to hear</label>
            <select disabled name="voice" id="voice" class="browser-default"></select>
        </div>
        <div class="modal-footer">
            <a class=" modal-action modal-close waves-effect waves-blue btn-flat">Close</a>
        </div>
    </div>
    <!-- templates -->
    <!-- template for sidebar -->
    <script id="sideBarTpl" type="text/x-handlebars-template">
        {{#each categories}}
        <li class="no-padding category-item">
            <ul class="collapsible collapsible-accordion">
                <li>
                    <a class="collapsible-header waves-effect"><span class="icon-dropdown"></span><span>{{title}}</span></a>
                    <div class="collapsible-body">
                        <ul>
                            {{#each sections}} {{#if hidden}} {{else}}
                            <li class="section-item waves-effect waves-blue"><a>{{title}}</a></li>
                            {{/if}} {{/each}}
                        </ul>
                    </div>
                </li>
            </ul>
        </li>
        {{/each}}
    </script>
    <!-- template for section -->
    <script id="sectionTpl" type="text/x-handlebars-template">
        <div class="row">
            <div class="col s12">
                <h1>{{title}}</h1>
                <div id="sectionDesc">{{description}}</div>
            </div>
        </div>
        <div class="masonry-container">
            <div class="masonry">
                <!-- <div class="grid-sizer"></div> -->
                {{#each lessons}}
                <div class="grid-item">
                    <div class="lesson-item card-panel modal-trigger waves-effect waves-blue" data-target="modalLesson" data-lesson="{{lessonIndex}}">
                        {{title}}</div>
                </div>
                {{/each}}
            </div>
        </div>
    </script>
    <!-- js -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.0.0/masonry.pkgd.min.js"></script>
    <script async type="text/javascript" src="js/min/main.min.js"></script>
    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
    <script>
    var gaId = (location.href.indexOf('learnenglish.leetrunghoo') > -1) ? 'UA-73537086-2' : 'UA-73537086-1';
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', gaId, 'auto');
    ga('require', 'linkid', 'linkid.js'); // Enable enhanced link attribution in the reports
    ga('send', 'pageview');

    /* 
     *   Servive Worker
     */
    var isLocalhost = Boolean(window.location.hostname === 'localhost' ||
        // [::1] is the IPv6 localhost address.
        window.location.hostname === '[::1]' ||
        // 127.0.0.1/8 is considered localhost for IPv4.
        window.location.hostname.match(
            /^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/
        )
    );

    if ('serviceWorker' in navigator &&
        (window.location.protocol === 'https:' || isLocalhost)) {
        navigator.serviceWorker.register('sw.js')
            .then(function(registration) {
                console.log("Service Worker Registered");
                // Check to see if there's an updated version of service-worker.js with
                // new files to cache:
                // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-registration-update-method
                if (typeof registration.update === 'function') {
                    registration.update();
                }

                // updatefound is fired if service-worker.js changes.
                registration.onupdatefound = function() {
                    // updatefound is also fired the very first time the SW is installed,
                    // and there's no need to prompt for a reload at that point.
                    // So check here to see if the page is already controlled,
                    // i.e. whether there's an existing service worker.
                    if (navigator.serviceWorker.controller) {
                        // The updatefound event implies that registration.installing is set:
                        // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event
                        var installingWorker = registration.installing;

                        installingWorker.onstatechange = function() {
                            switch (installingWorker.state) {
                                case 'installed':
                                    // At this point, the old content will have been purged and the
                                    // fresh content will have been added to the cache.
                                    // It's the perfect time to display a 'New content is
                                    // available; please refresh.' message in the page's interface.
                                    break;

                                case 'redundant':
                                    throw new Error('The installing ' +
                                        'service worker became redundant.');

                                default:
                                    // Ignore
                            }
                        };
                    }
                };
            }).catch(function(e) {
                console.error('Error during service worker registration:', e);
            });
    }
    </script>
</body>

</html>
